#+TITLE: Aufgabe 2: Normalisierungen
#+AUTHOR: Lukas Wais
#+Language: de
#+OPTIONS: num:nil date:today toc:nil 

* Schlüssel
Welche drei Schlüsselarten gibt es. Finde zu jedem ein geeignetes Beispiel.

* Normalisierungen 
In den folgenden Aufgaben geht es um Normalisierungen.

** Patienten
Bringe die unten stehende Tabelle in die dritte Normalform (3NF). Schreibe alle Schritte auf.
| patno  | patname  | gpno | gpname    | appdate                          | consultant              | conaddr                     | sample          |
|--------|----------|------|-----------|---------------------------------|-------------------------|-----------------------------|-----------------|
| 01027  | Grist    | 919  | Robinson  | 3/9/2004; 20/12/2004; 10/10/2004 | Farnes; Farnes; Edwards | Acadia Rd; Acadia Rd; Beech Ave | blood; none; urine |
| 08023  | Daniels  | 818  | Seymour   | 3/9/2004; 3/9/2004               | Farnes; Russ            | Acadia Rd; Fir St            | none; sputum    |
| 191146 | Falken   | 7171 | Ibbotson  | 3/9/2004                         | Russ                    | Fir St                       | blood           |
| 001239 | Burgess  | 818  | Seymour   | 5/6/2004                         | Russ                    | Fir St                       | sputum          |
| 007249 | Lynch    | 7171 | Ibbotson  | 9/11/2004                        | Edwards                 | Beach Ave                    | none            |


Eine textuelle Lösung wird auch akzeptiert:

#+BEGIN_SRC
PATIENT(patno,patname,gpno,gpname,appdate,consultant,conaddr,sample)
#+END_SRC

** NF erkennen
Gib bei den folgenden Tabellen an, ob sie in /keiner/, der /1NF/, /2NF/ oder der /3NF/ sind. 
Begründe deine Antwort.

- =EMPLOYEE(empno,empname,jobcode)=
    - empno \rarr empname
    - empno \rarr jobcode
- =EMPLOYEE(empno,empname,(jobcode,years))=
    - empno \rarr empname
    - empno,jobcode \rarr years
- =EMPLOYEE(empno,empname,jobcode,jobdesc)=
    - empno \rarr empname,jobcode
    - jobcode \rarr jobdesc
- =EMPLOYEE(empno,empname,project,hoursworked)=
    - empno \rarr empname
    - empno,project \rarr hoursworked

** Mitarbeiter
Überführe die unten stehende Tabelle in die 3NF. Annahmen: $n:m$ Beziehung zwischen Mitarbeitern und Aufträgen; 
Pro Abteilung gibt es ein Faxgerät. Benenne auch die jeweils vorhandenen Schlüssel. Begründe, warum die jeweilige NF
verletzt ist.

| ID     | Name    | Vorname | Abteilung | Fax  | Aufträge    |
|--------+---------+---------+-----------+------+-------------|
| 123456 | Müller  | Martin  | A01       | 3765 | 1255, 7543  |
| 387645 | Schmidt | Jana    | A03       | 8865 | 8966        |
| 723999 | Schulze | Stephan | A01       | 3765 | 3378, 1255  |

** Bücher
Bringe die Tabelle in die 3NF.
Für dieses Beispiel nehmen wir an, dass ein Buch von einem Autor geschrieben wird.

| ISBN       | Title                                        | Author         | Author Nationality | Format    | Price | Subject  | Pages | Thickness | Publisher | Publisher Country | Publication Type | Genre ID | Genre Name |
|------------+----------------------------------------------+----------------+--------------------+-----------+-------+----------+-------+-----------+-----------+-------------------+------------------+----------+------------|
| 1590593324 | Beginning MySQL Database Design and Optimization | Chad Russell   | American           | Hardcover | 49.99 | MySQL; Database; Design| 520   | Thick     | Apress    | USA               | E-book            | 1        | Tutorial   |

** Weitere Normalformen
Gibt es mehr als die 3NF? Falls ja, benenne sie und gib eine kurze Erklärung dazu.

* Merkhilfe für die Normalformen
1. Normalform (1NF) Alle Attribute sind atomar.
2. Normalform (2NF) Die Relation befindet sich in 1NF und alle Nichtschlüsselattribute sind voll funktional abhängig vom Primärschlüssel.
3. Normalform (3NF) Die Relation befindet sich in 2NF und Nichtschlüsselattribut ist transitiv vom Primärschlüssel abhängig.


